[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Use of glm",
    "section": "",
    "text": "\\[y=\\beta_0+\\beta_1 x_1+\\cdots+\\beta_p x_p+\\epsilon, \\epsilon \\sim N\\left(0,\n\\sigma^2\\right)\\]\n\n\n\n\\[\\begin{gathered}\nY \\mid x \\sim F(y, \\mu) \\\\\ng(\\mu)=\\beta_0+\\beta_1 x_1+\\cdots+\\beta_p x_p\n\\end{gathered}\\]\n\n\n\n\\[\\operatorname{logit}(p)=\\ln \\frac{p}{1-p}=\\beta_0+\\beta_1 x_1+\\cdots+\\beta_p x_p\\]"
  },
  {
    "objectID": "index.html#quarto",
    "href": "index.html#quarto",
    "title": "Home",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "index.html#running-code",
    "href": "index.html#running-code",
    "title": "Use of glm",
    "section": "Running Code",
    "text": "Running Code\n\n如何在R中拟合回归\n\ndata(\"ICU\", package = \"vcdExtra\")\nhelp(ICU, package=\"vcdExtra\")\nGLM1 &lt;- glm(died~age+cancer+coma+systolic, family =binomial(link = logit), data = ICU)\nsummary(GLM1)\n\n\nCall:\nglm(formula = died ~ age + cancer + coma + systolic, family = binomial(link = logit), \n    data = ICU)\n\nCoefficients:\n              Estimate Std. Error z value Pr(&gt;|z|)   \n(Intercept)  -1.169893   1.183585  -0.988  0.32294   \nage           0.030189   0.012439   2.427  0.01522 * \ncancerYes     0.640502   0.633115   1.012  0.31170   \ncomaStupor   19.597055 931.997775   0.021  0.98322   \ncomaComa      2.748841   0.872725   3.150  0.00163 **\nsystolic     -0.019633   0.007039  -2.789  0.00529 **\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n(Dispersion parameter for binomial family taken to be 1)\n\n    Null deviance: 200.16  on 199  degrees of freedom\nResidual deviance: 148.30  on 194  degrees of freedom\nAIC: 160.3\n\nNumber of Fisher Scoring iterations: 15\n\n#作一个anova检验  \nanova(GLM1, test = 'LRT')\n\nAnalysis of Deviance Table\n\nModel: binomial, link: logit\n\nResponse: died\n\nTerms added sequentially (first to last)\n\n         Df Deviance Resid. Df Resid. Dev  Pr(&gt;Chi)    \nNULL                       199     200.16              \nage       1    7.855       198     192.31  0.005069 ** \ncancer    1    0.012       197     192.29  0.911923    \ncoma      2   35.389       195     156.91 2.068e-08 ***\nsystolic  1    8.601       194     148.31  0.003360 ** \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n#对样本发生概率的预测 \npredict(GLM1,type = 'response')\n\n         8         12         14         28         32         38         40 \n0.04137920 0.16971127 0.30817275 0.08886139 0.33112092 0.22330320 0.21251141 \n        41         42         50         51         53         58         61 \n0.04346268 0.09676696 0.24498135 0.03914470 0.09441218 0.08958199 0.06039463 \n        73         75         82         84         92         96         98 \n0.03835059 0.07275898 0.09464775 0.91816676 0.13475146 0.20549696 0.16843598 \n       100        102        111        112        136        137        143 \n0.08713349 0.06129916 0.03824173 0.18421751 0.04486168 0.09333556 0.09804790 \n       153        170        173        180        184        186        187 \n0.15730063 0.14308260 0.11685426 0.08787507 0.22064203 0.06449646 0.27758739 \n       190        191        207        211        214        219        225 \n0.15064622 0.08689866 0.12954666 0.07480760 0.29365095 0.08477825 0.18513833 \n       237        247        249        260        266        271        276 \n0.03279202 0.02951349 0.07954225 0.09235739 0.08178078 0.04549013 0.15295679 \n       277        278        282        292        295        297        298 \n0.20670610 0.09081203 0.32188289 0.33996878 0.29426445 0.18747429 0.08132226 \n       308        310        319        327        333        335        343 \n0.05327413 0.04527013 0.12483655 0.07176814 0.06672227 0.17528592 0.13129422 \n       357        362        365        369        370        371        376 \n0.10521551 0.22326680 0.08599804 0.21603027 0.12323078 0.15029440 0.03547734 \n       378        379        381        382        398        401        409 \n0.10899036 0.05596594 0.02218354 0.29545127 0.27211917 0.06232767 0.26207773 \n       413        416        438        439        440        455        462 \n0.12938009 0.06876231 0.12615720 0.05564338 0.17842026 0.28613463 0.11589920 \n       495        498        502        505        508        517        522 \n0.03586964 0.18692967 0.03769423 0.07483666 0.15853569 0.09086403 0.08765522 \n       525        526        546        548        550        552        560 \n0.09544660 0.35494937 0.33784090 0.08571613 0.24048158 0.06597683 0.09993077 \n       563        573        575        584        597        598        601 \n0.20203775 0.04618241 0.18194428 0.07321535 0.18012904 0.09674862 0.03939149 \n       605        607        619        620        639        644        645 \n0.18831327 0.16422097 0.10128710 0.14269488 0.21410410 0.23668469 0.01119594 \n       648        655        659        669        670        674        675 \n0.21148873 0.07999161 0.33586000 0.10989557 0.05107147 0.19671376 0.16051728 \n       676        709        713        727        728        732        746 \n0.04801074 0.35707871 0.05658271 0.15021480 0.04295651 0.12650661 0.30498617 \n       749        754        761        763        764        765        766 \n0.08910100 0.09887231 0.20449928 0.17102311 0.05255451 0.05178220 0.07871085 \n       772        776        784        794        796        809        814 \n0.08384873 0.06688037 0.16300747 0.06161594 0.08294539 0.06323433 0.17969292 \n       816        829        837        846        847        863        867 \n0.06181142 0.03212901 0.03882819 0.03476198 0.43458350 0.03466294 0.18558562 \n       875        877        880        881        889        893        906 \n0.08280115 0.09590362 0.05107147 0.63075050 0.18879765 0.07115189 0.07178213 \n       912        915        923        924        925        929          4 \n0.18831327 0.10607319 0.06862691 0.10464056 0.20553123 0.09135358 0.47150052 \n        27         47         52        127        145        154        165 \n0.19963196 0.20302649 0.18741131 0.03406054 0.40987058 0.07758609 0.30427109 \n       195        202        204        208        222        238        241 \n0.75768975 0.30628401 0.57951097 0.99999997 0.21728444 0.51700217 0.11134965 \n       273        285        299        331        346        380        384 \n0.32780949 0.16100104 0.99999999 0.94125733 0.11967137 0.03012421 0.14010642 \n       412        427        442        461        468        490        518 \n0.99999997 0.90425560 0.08132226 0.12957033 0.20166198 0.27392090 0.91277753 \n       611        613        666        671        706        740        751 \n0.21857971 0.18876551 0.81747986 0.08022490 0.71056387 0.31793293 0.89005663 \n       752        789        871        921 \n0.45810742 0.38745493 0.99999998 0.99999967 \n\n\n\n\n有序的多分类变量\n使用累计逻辑斯蒂回归模型（POLR）\n\nlibrary(MASS)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n✖ dplyr::select() masks MASS::select()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\ndata(\"housing\")\n#多种指标对应三种满意度：low medium high\nglimpse(housing)\n\nRows: 72\nColumns: 5\n$ Sat  &lt;ord&gt; Low, Medium, High, Low, Medium, High, Low, Medium, High, Low, Med…\n$ Infl &lt;fct&gt; Low, Low, Low, Medium, Medium, Medium, High, High, High, Low, Low…\n$ Type &lt;fct&gt; Tower, Tower, Tower, Tower, Tower, Tower, Tower, Tower, Tower, Ap…\n$ Cont &lt;fct&gt; Low, Low, Low, Low, Low, Low, Low, Low, Low, Low, Low, Low, Low, …\n$ Freq &lt;int&gt; 21, 21, 28, 34, 22, 36, 10, 11, 36, 61, 23, 17, 43, 35, 40, 26, 1…\n\n#建立一个满意度和以下三种变量的公式\nhouse.fm1&lt;- Sat~Infl+Type+Cont\n#将POLR放入模型，需要设定权重\nhouse.plr&lt;-polr(\n  house.fm1,\n  weights = Freq, data=housing)\nsummary(house.plr)\n\n\nRe-fitting to get Hessian\n\n\nCall:\npolr(formula = house.fm1, data = housing, weights = Freq)\n\nCoefficients:\n                Value Std. Error t value\nInflMedium     0.5664    0.10465   5.412\nInflHigh       1.2888    0.12716  10.136\nTypeApartment -0.5724    0.11924  -4.800\nTypeAtrium    -0.3662    0.15517  -2.360\nTypeTerrace   -1.0910    0.15149  -7.202\nContHigh       0.3603    0.09554   3.771\n\nIntercepts:\n            Value   Std. Error t value\nLow|Medium  -0.4961  0.1248    -3.9739\nMedium|High  0.6907  0.1255     5.5049\n\nResidual Deviance: 3479.149 \nAIC: 3495.149"
  },
  {
    "objectID": "Education.html",
    "href": "Education.html",
    "title": "Education",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "Education.html#quarto",
    "href": "Education.html#quarto",
    "title": "Education",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "Education.html#running-code",
    "href": "Education.html#running-code",
    "title": "Education",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "project.html",
    "href": "project.html",
    "title": "project",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "project.html#quarto",
    "href": "project.html#quarto",
    "title": "project",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "project.html#running-code",
    "href": "project.html#running-code",
    "title": "project",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "edu.html",
    "href": "edu.html",
    "title": "Education",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "edu.html#quarto",
    "href": "edu.html#quarto",
    "title": "Education",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "edu.html#running-code",
    "href": "edu.html#running-code",
    "title": "Education",
    "section": "Running Code",
    "text": "Running Code\nWhen you click the Render button a document will be generated that includes both content and the output of embedded code. You can embed code like this:\n\n1 + 1\n\n[1] 2\n\n\nYou can add options to executable code like this\n\n\n[1] 4\n\n\nThe echo: false option disables the printing of code (only output is displayed)."
  },
  {
    "objectID": "index.html#about-glm",
    "href": "index.html#about-glm",
    "title": "Use of glm",
    "section": "",
    "text": "\\[y=\\beta_0+\\beta_1 x_1+\\cdots+\\beta_p x_p+\\epsilon, \\epsilon \\sim N\\left(0,\n\\sigma^2\\right)\\]\n\n\n\n\\[\\begin{gathered}\nY \\mid x \\sim F(y, \\mu) \\\\\ng(\\mu)=\\beta_0+\\beta_1 x_1+\\cdots+\\beta_p x_p\n\\end{gathered}\\]\n\n\n\n\\[\\operatorname{logit}(p)=\\ln \\frac{p}{1-p}=\\beta_0+\\beta_1 x_1+\\cdots+\\beta_p x_p\\]"
  },
  {
    "objectID": "index.html#poisson-regression",
    "href": "index.html#poisson-regression",
    "title": "Use of glm",
    "section": "Poisson Regression",
    "text": "Poisson Regression\n\n泊松分布\n泊松分布适合于描述单位时间内随机事件发生的次数。 (1)泊松分布是一种描述和分析稀有事件的概率分布。要观察到这类事件，样本含量必须很大 。 (2)\\({\\lambda}\\)是泊松分布所依赖的唯一参数。\\({\\lambda}\\)值愈小，分布愈偏倚，随着\\({\\lambda}\\)增大，分布趋于对称。 (3)当\\({\\lambda}\\)=20时分布泊松分布接近于正态分布；当\\({\\lambda}\\)=50时，可以认为泊松分布呈正态分布。 在实际工作中，当\\({\\lambda}\\)大于等于20时就可以用正态分布来近似地处理泊松分布的问题。\n\\[\nf(y ; \\lambda)=\\frac{\\lambda^y}{y!} e^{-\\lambda}, y=0,1, \\ldots\n\\]\n\n\n泊松回归模型\n\\[\\begin{gathered}\nY \\sim \\operatorname{Poisson}(\\lambda), \\\\\ng(\\lambda)=\\beta_0+\\beta_1 x_1+\\cdots+\\beta_p x_p \\\\\n\\text { 通常 } g(\\lambda)=\\ln \\lambda\n\\end{gathered}\\]\n使用最大估计法\n\\[\n\\ell\\left(\\beta_0, \\beta_1\\right)=\\text { 常数 }+\\sum_{i=1}^n\\left\\{y_i\\left(\\beta_0+\\mathbf{x}_{\\mathbf{i}}^{\\mathrm{T}} \\beta\\right)-e^{\\beta_0+\\mathbf{x}_1^{\\mathrm{T}} \\beta}\\right\\}\n\\] 若找到合适的数据集，可用GLM2 &lt;- glm(A~B, family =poisson, data = C) summary(GLM2)"
  },
  {
    "objectID": "ggplot2.html",
    "href": "ggplot2.html",
    "title": "Use of ggplot2",
    "section": "",
    "text": "ggplot2 is an open-source data visualization package for the statistical programming lauguage R.\n\nlibrary(ggplot2)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n#加载数据集mpg\ndata(mpg)\n#设置一个画布，定义x轴y轴，颜色col，大小size，添加图形类型(此处为散点图geom_point())，geom_smooth()表示平滑线(method = \"lm\"线性)，facet_wrap(~drv)表示切开，theme_bw()添加主题\nggplot(data=mpg, mapping=\n         aes(x=displ,y=hwy, col=drv, ))+\n  geom_point()+\n  facet_wrap(~drv)+\n  theme_bw()\n\n\n\n\n\n\n\n\n画箱线图\n\n#coord_flip()旋转函数\nlibrary(ggplot2)\nlibrary(tidyverse)\nggplot(mpg,aes(hwy,col=drv))+\n  geom_boxplot()+\n  facet_wrap(~drv)+\n  coord_flip()\n\n\n\n\n\n\n\n\nx, y轴两变量箱线图\n\nggplot(mpg,aes(hwy,drv,col=drv))+\n  geom_boxplot()"
  },
  {
    "objectID": "ggplot2.html#ggplot-语法结构",
    "href": "ggplot2.html#ggplot-语法结构",
    "title": "Use of ggplot2",
    "section": "",
    "text": "ggplot2 is an open-source data visualization package for the statistical programming lauguage R.\n\nlibrary(ggplot2)\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ lubridate 1.9.3     ✔ tibble    3.2.1\n✔ purrr     1.0.2     ✔ tidyr     1.3.1\n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n#加载数据集mpg\ndata(mpg)\n#设置一个画布，定义x轴y轴，颜色col，大小size，添加图形类型(此处为散点图geom_point())，geom_smooth()表示平滑线(method = \"lm\"线性)，facet_wrap(~drv)表示切开，theme_bw()添加主题\nggplot(data=mpg, mapping=\n         aes(x=displ,y=hwy, col=drv, ))+\n  geom_point()+\n  facet_wrap(~drv)+\n  theme_bw()\n\n\n\n\n\n\n\n\n画箱线图\n\n#coord_flip()旋转函数\nlibrary(ggplot2)\nlibrary(tidyverse)\nggplot(mpg,aes(hwy,col=drv))+\n  geom_boxplot()+\n  facet_wrap(~drv)+\n  coord_flip()\n\n\n\n\n\n\n\n\nx, y轴两变量箱线图\n\nggplot(mpg,aes(hwy,drv,col=drv))+\n  geom_boxplot()"
  },
  {
    "objectID": "ggplot2.html#ggplot-绘制箱形图",
    "href": "ggplot2.html#ggplot-绘制箱形图",
    "title": "Use os ggplot2",
    "section": "ggplot 绘制箱形图",
    "text": "ggplot 绘制箱形图\n\n?msleep\ndata(\"msleep\")\n#添加到environment\nattach(msleep)\n#x动物类型，y清醒时长，coord_flip()可以调换横纵坐标\nggplot(data=msleep,mapping=aes(x=vore, y=awake))+\n  geom_boxplot(colour=1,fill=5)+\n  coord_flip()\n\n\n\n\n\n\n\n#另一种写法\nmsleep %&gt;% ggplot(aes(vore, awake))+\n  geom_boxplot()+\n  coord_flip()"
  },
  {
    "objectID": "ggplot2.html#ggplot2-绘制箱形图",
    "href": "ggplot2.html#ggplot2-绘制箱形图",
    "title": "Use of ggplot2",
    "section": "ggplot2 绘制箱形图",
    "text": "ggplot2 绘制箱形图\n\n?msleep\ndata(\"msleep\")\n#添加到environment\nattach(msleep)\n#x动物类型，y清醒时长，coord_flip()可以调换横纵坐标\nggplot(data=msleep,mapping=aes(x=vore, y=awake))+\n  geom_boxplot(colour=1,fill=5)+\n  coord_flip()\n\n\n\n\n\n\n\n#另一种写法\nmsleep %&gt;% ggplot(aes(vore, awake))+\n  geom_boxplot()+\n  coord_flip()"
  },
  {
    "objectID": "ggplot2.html#ggplot2-绘制条形图",
    "href": "ggplot2.html#ggplot2-绘制条形图",
    "title": "Use of ggplot2",
    "section": "ggplot2 绘制条形图",
    "text": "ggplot2 绘制条形图\n\n#先drop筛选除去动物类型空数据N/A，再进行绘图\n#先设置横轴\n#geom_bar(fill=\"6E5175\")代表条形图填充的颜色\n#coord_flip()代表旋转\nmsleep %&gt;%\n  drop_na(vore) %&gt;%\n  ggplot(aes(x=vore))+\n  geom_bar(fill=\"6E5175\")+\n  #coord_flip()+\n  theme_bw()+\n  labs(x=\"Who eats what\",y=\"Freq\",\n       title = \"Number of observations per order\")\n\n\n\n\n\n\n\n#fct_infreq表示对条形图进行从高到低的排序\nmsleep %&gt;%\n  drop_na(vore) %&gt;%\n  ggplot(aes(fct_infreq(vore)))+\n  geom_bar(fill=\"6E5175\")+\n  #coord_flip()+\n  theme_bw()+\n  labs(x=\"Who eats what\",y=\"Freq\",\n       title = \"Number of observations per order\")"
  },
  {
    "objectID": "ggplot2.html#ggplot2-绘制直方图",
    "href": "ggplot2.html#ggplot2-绘制直方图",
    "title": "Use of ggplot2",
    "section": "ggplot2 绘制直方图",
    "text": "ggplot2 绘制直方图\n\nlibrary(ggplot2)\nlibrary(tidyverse)\ndata(mpg)\n#binwidth组距\nmpg %&gt;%\n  ggplot(aes(hwy))+\n  geom_histogram(binwidth = 10,\n                 fill=2,\n                 col=1)\n\n\n\n\n\n\n\nsummary(mpg$hwy)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  12.00   18.00   24.00   23.44   27.00   44.00 \n\n#3位组距，10-45\n#lims设置横纵轴范围\n#scale_x_continuous重新设立刻度\nmpg %&gt;%\n  ggplot(aes(hwy))+\n  geom_histogram(breaks =\n                   seq(10,45,3),\n                 fill=5,\n                 col=1)+\n  lims(x=c(5,50),y=c(0,60))+\n  labs(title =\"Histogram of hwy\",\n       x=\"Highway miles per gallon\",\n       )+\n  scale_x_continuous(breaks = seq(10,50,3))+\n  scale_y_continuous(breaks = seq(0,60,5))+\n  theme_bw()\n\nScale for x is already present.\nAdding another scale for x, which will replace the existing scale.\nScale for y is already present.\nAdding another scale for y, which will replace the existing scale."
  },
  {
    "objectID": "ggplot2.html#ggplot2-绘制散点图",
    "href": "ggplot2.html#ggplot2-绘制散点图",
    "title": "Use of ggplot2",
    "section": "ggplot2 绘制散点图",
    "text": "ggplot2 绘制散点图\n\n#col=vore(不同类别动物使用不同颜色表示)\n#alpha点的透明度\nmsleep %&gt;%\n  drop_na(vore) %&gt;%\n  ggplot(aes(sleep_total,bodywt,col=vore))+\n  geom_point(size=3,alpha=0.5)\n\n\n\n\n\n\n\n#添加平滑线且指定线性模型geom_smooth(method = lm, se=F)，se=F代表不添加置信带\n#geom_line()函数将所有的数据点按照x轴上变量的顺序连接它们\nmsleep %&gt;%\n  drop_na(vore) %&gt;%\n  ggplot(aes(brainwt,bodywt))+\n  geom_point(size=3,alpha=0.5)+\n  geom_smooth(method = lm, se=F)+\n  facet_wrap(~vore)+\n  labs(title = \"Brain weight & Body weight\")\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: Removed 25 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning: Removed 25 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n  geom_line()\n\ngeom_line: na.rm = FALSE, orientation = NA\nstat_identity: na.rm = FALSE\nposition_identity \n\n#two or more numeric\n#filter(bodywt&lt;2)代表仅保留bodywt&lt;2的数据，为了排除极大值\n#color= sleep_total,size=awake，点的颜色代表睡眠时长，点的大小代表清醒时长\n#facet_wrap(~vore)切面\nmsleep %&gt;%\n  filter(bodywt&lt;2) %&gt;%\n  ggplot(aes(bodywt,brainwt))+\n  geom_point(aes(color= sleep_total,size=awake))+\n  geom_smooth()+\n  facet_wrap(~vore)+\n  labs(x = \"Body weight\",\n       y = \"Brain weight\",\n       title = \"Brain and Body weight\")\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\nWarning: Removed 16 rows containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: span too small.  fewer data values than degrees of freedom.\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: pseudoinverse used at 0.009675\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: neighborhood radius 0.013325\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: reciprocal condition number 0\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: There are other near singularities as well. 0.0027379\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : span too small.  fewer\ndata values than degrees of freedom.\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : pseudoinverse used at\n0.009675\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : neighborhood radius\n0.013325\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : reciprocal condition\nnumber 0\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : There are other near\nsingularities as well. 0.0027379\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: span too small.  fewer data values than degrees of freedom.\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: pseudoinverse used at 0.04014\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: neighborhood radius 0.50986\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: reciprocal condition number 0\n\n\nWarning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric,\n: There are other near singularities as well. 2.2676\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : span too small.  fewer\ndata values than degrees of freedom.\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : pseudoinverse used at\n0.04014\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : neighborhood radius\n0.50986\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : reciprocal condition\nnumber 0\n\n\nWarning in predLoess(object$y, object$x, newx = if (is.null(newdata)) object$x\nelse if (is.data.frame(newdata))\nas.matrix(model.frame(delete.response(terms(object)), : There are other near\nsingularities as well. 2.2676\n\n\nWarning: Removed 16 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning\n-Inf\nWarning in max(ids, na.rm = TRUE): no non-missing arguments to max; returning\n-Inf\n\n\n\n\n\n\n\n\ntheme_minimal()\n\nList of 136\n $ line                            :List of 6\n  ..$ colour       : chr \"black\"\n  ..$ linewidth    : num 0.5\n  ..$ linetype     : num 1\n  ..$ lineend      : chr \"butt\"\n  ..$ arrow        : logi FALSE\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_line\" \"element\"\n $ rect                            :List of 5\n  ..$ fill         : chr \"white\"\n  ..$ colour       : chr \"black\"\n  ..$ linewidth    : num 0.5\n  ..$ linetype     : num 1\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_rect\" \"element\"\n $ text                            :List of 11\n  ..$ family       : chr \"\"\n  ..$ face         : chr \"plain\"\n  ..$ colour       : chr \"black\"\n  ..$ size         : num 11\n  ..$ hjust        : num 0.5\n  ..$ vjust        : num 0.5\n  ..$ angle        : num 0\n  ..$ lineheight   : num 0.9\n  ..$ margin       : 'margin' num [1:4] 0points 0points 0points 0points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : logi FALSE\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ title                           : NULL\n $ aspect.ratio                    : NULL\n $ axis.title                      : NULL\n $ axis.title.x                    :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : NULL\n  ..$ vjust        : num 1\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 2.75points 0points 0points 0points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.title.x.top                :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : NULL\n  ..$ vjust        : num 0\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 0points 0points 2.75points 0points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.title.x.bottom             : NULL\n $ axis.title.y                    :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : NULL\n  ..$ vjust        : num 1\n  ..$ angle        : num 90\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 0points 2.75points 0points 0points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.title.y.left               : NULL\n $ axis.title.y.right              :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : NULL\n  ..$ vjust        : num 1\n  ..$ angle        : num -90\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 0points 0points 0points 2.75points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.text                       :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : chr \"grey30\"\n  ..$ size         : 'rel' num 0.8\n  ..$ hjust        : NULL\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : NULL\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.text.x                     :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : NULL\n  ..$ vjust        : num 1\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 2.2points 0points 0points 0points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.text.x.top                 :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : NULL\n  ..$ vjust        : num 0\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 0points 0points 2.2points 0points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.text.x.bottom              : NULL\n $ axis.text.y                     :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : num 1\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 0points 2.2points 0points 0points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.text.y.left                : NULL\n $ axis.text.y.right               :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : num 0\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 0points 0points 0points 2.2points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.text.theta                 : NULL\n $ axis.text.r                     :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : num 0.5\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : 'margin' num [1:4] 0points 2.2points 0points 2.2points\n  .. ..- attr(*, \"unit\")= int 8\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ axis.ticks                      : list()\n  ..- attr(*, \"class\")= chr [1:2] \"element_blank\" \"element\"\n $ axis.ticks.x                    : NULL\n $ axis.ticks.x.top                : NULL\n $ axis.ticks.x.bottom             : NULL\n $ axis.ticks.y                    : NULL\n $ axis.ticks.y.left               : NULL\n $ axis.ticks.y.right              : NULL\n $ axis.ticks.theta                : NULL\n $ axis.ticks.r                    : NULL\n $ axis.minor.ticks.x.top          : NULL\n $ axis.minor.ticks.x.bottom       : NULL\n $ axis.minor.ticks.y.left         : NULL\n $ axis.minor.ticks.y.right        : NULL\n $ axis.minor.ticks.theta          : NULL\n $ axis.minor.ticks.r              : NULL\n $ axis.ticks.length               : 'simpleUnit' num 2.75points\n  ..- attr(*, \"unit\")= int 8\n $ axis.ticks.length.x             : NULL\n $ axis.ticks.length.x.top         : NULL\n $ axis.ticks.length.x.bottom      : NULL\n $ axis.ticks.length.y             : NULL\n $ axis.ticks.length.y.left        : NULL\n $ axis.ticks.length.y.right       : NULL\n $ axis.ticks.length.theta         : NULL\n $ axis.ticks.length.r             : NULL\n $ axis.minor.ticks.length         : 'rel' num 0.75\n $ axis.minor.ticks.length.x       : NULL\n $ axis.minor.ticks.length.x.top   : NULL\n $ axis.minor.ticks.length.x.bottom: NULL\n $ axis.minor.ticks.length.y       : NULL\n $ axis.minor.ticks.length.y.left  : NULL\n $ axis.minor.ticks.length.y.right : NULL\n $ axis.minor.ticks.length.theta   : NULL\n $ axis.minor.ticks.length.r       : NULL\n $ axis.line                       : list()\n  ..- attr(*, \"class\")= chr [1:2] \"element_blank\" \"element\"\n $ axis.line.x                     : NULL\n $ axis.line.x.top                 : NULL\n $ axis.line.x.bottom              : NULL\n $ axis.line.y                     : NULL\n $ axis.line.y.left                : NULL\n $ axis.line.y.right               : NULL\n $ axis.line.theta                 : NULL\n $ axis.line.r                     : NULL\n $ legend.background               : list()\n  ..- attr(*, \"class\")= chr [1:2] \"element_blank\" \"element\"\n $ legend.margin                   : 'margin' num [1:4] 5.5points 5.5points 5.5points 5.5points\n  ..- attr(*, \"unit\")= int 8\n $ legend.spacing                  : 'simpleUnit' num 11points\n  ..- attr(*, \"unit\")= int 8\n $ legend.spacing.x                : NULL\n $ legend.spacing.y                : NULL\n $ legend.key                      : list()\n  ..- attr(*, \"class\")= chr [1:2] \"element_blank\" \"element\"\n $ legend.key.size                 : 'simpleUnit' num 1.2lines\n  ..- attr(*, \"unit\")= int 3\n $ legend.key.height               : NULL\n $ legend.key.width                : NULL\n $ legend.key.spacing              : 'simpleUnit' num 5.5points\n  ..- attr(*, \"unit\")= int 8\n $ legend.key.spacing.x            : NULL\n $ legend.key.spacing.y            : NULL\n $ legend.frame                    : NULL\n $ legend.ticks                    : NULL\n $ legend.ticks.length             : 'rel' num 0.2\n $ legend.axis.line                : NULL\n $ legend.text                     :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : 'rel' num 0.8\n  ..$ hjust        : NULL\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : NULL\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ legend.text.position            : NULL\n $ legend.title                    :List of 11\n  ..$ family       : NULL\n  ..$ face         : NULL\n  ..$ colour       : NULL\n  ..$ size         : NULL\n  ..$ hjust        : num 0\n  ..$ vjust        : NULL\n  ..$ angle        : NULL\n  ..$ lineheight   : NULL\n  ..$ margin       : NULL\n  ..$ debug        : NULL\n  ..$ inherit.blank: logi TRUE\n  ..- attr(*, \"class\")= chr [1:2] \"element_text\" \"element\"\n $ legend.title.position           : NULL\n $ legend.position                 : chr \"right\"\n $ legend.position.inside          : NULL\n $ legend.direction                : NULL\n $ legend.byrow                    : NULL\n $ legend.justification            : chr \"center\"\n $ legend.justification.top        : NULL\n $ legend.justification.bottom     : NULL\n $ legend.justification.left       : NULL\n $ legend.justification.right      : NULL\n $ legend.justification.inside     : NULL\n $ legend.location                 : NULL\n $ legend.box                      : NULL\n $ legend.box.just                 : NULL\n $ legend.box.margin               : 'margin' num [1:4] 0cm 0cm 0cm 0cm\n  ..- attr(*, \"unit\")= int 1\n $ legend.box.background           : list()\n  ..- attr(*, \"class\")= chr [1:2] \"element_blank\" \"element\"\n $ legend.box.spacing              : 'simpleUnit' num 11points\n  ..- attr(*, \"unit\")= int 8\n  [list output truncated]\n - attr(*, \"class\")= chr [1:2] \"theme\" \"gg\"\n - attr(*, \"complete\")= logi TRUE\n - attr(*, \"validate\")= logi TRUE"
  },
  {
    "objectID": "deviance.html",
    "href": "deviance.html",
    "title": "What is deviance",
    "section": "",
    "text": "如果我们使用广义线性模型(GLM)对关系进行建模，偏差是对拟合优度的度量:偏差越小，拟合越好。\n偏差可以看作是线性模型中残差平方和的推广。\nThe exact definition of deviance is as follows: for a particular GLM (denoted \\(\\mathcal{M}\\) ), let \\(L_{\\mathcal{M}}\\) denote the maximum achievable likelihood under this model. Let \\(L_{\\mathcal{S}}\\) denote the likelihood under the “saturated model”. Then the deviance of the GLM is defined as \\[\nD_{\\mathcal{M}}=-2 \\log \\left(\\frac{L_{\\mathcal{M}}}{L_{\\mathcal{S}}}\\right)=-2\\left(\\log L_{\\mathcal{M}}-\\log L_{\\mathcal{S}}\\right)\n\\]"
  },
  {
    "objectID": "deviance.html#about-deviance",
    "href": "deviance.html#about-deviance",
    "title": "What is deviance",
    "section": "",
    "text": "如果我们使用广义线性模型(GLM)对关系进行建模，偏差是对拟合优度的度量:偏差越小，拟合越好。\n偏差可以看作是线性模型中残差平方和的推广。\nThe exact definition of deviance is as follows: for a particular GLM (denoted \\(\\mathcal{M}\\) ), let \\(L_{\\mathcal{M}}\\) denote the maximum achievable likelihood under this model. Let \\(L_{\\mathcal{S}}\\) denote the likelihood under the “saturated model”. Then the deviance of the GLM is defined as \\[\nD_{\\mathcal{M}}=-2 \\log \\left(\\frac{L_{\\mathcal{M}}}{L_{\\mathcal{S}}}\\right)=-2\\left(\\log L_{\\mathcal{M}}-\\log L_{\\mathcal{S}}\\right)\n\\]"
  },
  {
    "objectID": "deviance.html#what-is-saturated-model",
    "href": "deviance.html#what-is-saturated-model",
    "title": "What is deviance",
    "section": "What is saturated model",
    "text": "What is saturated model\n“最一般的模型，每个观测值都有一个单独的参数，并且完全拟合”。换句话说，它是一个完全拟合观察响应的模型。在所有可能的模型中，饱和模型具有最大可实现的对数似然值。"
  },
  {
    "objectID": "deviance.html#how-do-we-use-deviance-to-test-for-goodness-of-it",
    "href": "deviance.html#how-do-we-use-deviance-to-test-for-goodness-of-it",
    "title": "What is deviance",
    "section": "How do we use deviance to test for goodness of it?",
    "text": "How do we use deviance to test for goodness of it?\n我们如何使用偏差来检验拟合优度？宽泛地说，我们是在检验原假设\\(\\mathcal{M}_0\\)是一个好的拟合，\\(\\mathcal{M}_1\\)是一个更好的拟合。检验统计量是偏差的差值：\n\\[\\begin{aligned}\nD & =D_{\\mathcal{M}_0}-D_{\\mathcal{M}_1} \\\\\n& =-2\\left(\\log L_{\\mathcal{M}_0}-\\log L_{\\mathcal{S}}\\right)+2\\left(\\log L_{\\mathcal{M}_1}-\\log L_{\\mathcal{S}}\\right) \\\\\n& =-2\\left(\\log L_{\\mathcal{M}_0}-\\log L_{\\mathcal{M}_1}\\right) .\n\\end{aligned}\\]"
  },
  {
    "objectID": "deviance.html#what-is-maximum-achievable-likelihood",
    "href": "deviance.html#what-is-maximum-achievable-likelihood",
    "title": "What is deviance",
    "section": "What is maximum achievable likelihood",
    "text": "What is maximum achievable likelihood\nlikelihood指的是在给定一组参数的情况下，观察到特定数据的概率。它是一个用来衡量参数估计准确性的指标。 在最大似然估计中，我们试图找到使得likelihood函数取得最大值的参数值，从而得到对参数的估计。 概率是描述已知参数情况下事件发生的可能性，而likelihood是描述已知观察到的结果情况下参数取值的可能性。"
  },
  {
    "objectID": "deviance.html#what-is-likehood-ratio-testlrt",
    "href": "deviance.html#what-is-likehood-ratio-testlrt",
    "title": "What is deviance",
    "section": "What is likehood ratio test(LRT)",
    "text": "What is likehood ratio test(LRT)\n似然比检验（Likelihood Ratio Test）是一种假设检验方法，用于比较两个模型的拟合优度，即评估哪个模型更能解释观察到的数据。"
  }
]